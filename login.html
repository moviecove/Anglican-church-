<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Church of the Holy Spirit Rumouke | Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

</head>
<body style="margin:0;font-family:Arial,Helvetica,sans-serif;background:#576e45;color:#fff;overflow:hidden;">

<!-- BACKGROUND CROSSES -->
<div id="cross-container"></div>

<!-- MAIN -->
<div style="min-height:100vh;display:flex;align-items:center;justify-content:center;position:relative;z-index:2;">

<div style="
background:rgba(255,255,255,0.08);
backdrop-filter:blur(10px);
padding:30px;
border-radius:15px;
width:90%;
max-width:380px;
text-align:center;
box-shadow:0 0 30px rgba(0,0,0,0.4);
">

<img src="logo.png" alt="Church Logo" style="width:80px;margin-bottom:10px;">

<h2 style="margin:10px 0;">Church of the Holy Spirit</h2>
<p style="opacity:0.8;font-size:14px;">Member Login</p>

<button onclick="loginGoogle()" class="btn social">
<i class="fab fa-google"></i> Continue with Google
</button>

<button onclick="loginFacebook()" class="btn social">
<i class="fab fa-facebook"></i> Continue with Facebook
</button>

<div style="margin:15px 0;opacity:0.6;">OR</div>

<input id="email" type="email" placeholder="Email" class="input">
<input id="password" type="password" placeholder="Password" class="input">

<button onclick="loginEmail()" class="btn primary">Login</button>

<p style="font-size:13px;margin-top:15px;">
No account? <a href="register.html" style="color:#ccd4c9;">Register</a>
</p>

</div>
</div>

<script>
/* FIREBASE CONFIG */
firebase.initializeApp({
  apiKey: "AIzaSyBvltqTTiJzNvqCy8XhttCCQ3LL6e3IsVM",
  authDomain: "church-of-the-holy-spiri-dcdf3.firebaseapp.com",
  projectId: "church-of-the-holy-spiri-dcdf3",
  appId: "1:926358296297:web:31439032719a21e7830278"
});

const auth = firebase.auth();

/* REDIRECT LOGGED-IN USERS */
auth.onAuthStateChanged(user => {
  if(user){
    window.location = "dashboard.html"; // auto-redirect if already logged in
  }
});

/* LOGIN FUNCTIONS */
function loginEmail(){
  glow(event.target);
  auth.signInWithEmailAndPassword(
    email.value, password.value
  ).then(()=> {
    alert("Login successful");
    window.location = "dashboard.html";
  })
  .catch(e => alert(e.message));
}

function loginGoogle(){
  glow(event.target);
  auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())
    .then(()=> window.location = "dashboard.html")
    .catch(e => alert(e.message));
}

function loginFacebook(){
  glow(event.target);
  auth.signInWithPopup(new firebase.auth.FacebookAuthProvider())
    .then(()=> window.location = "dashboard.html")
    .catch(e => alert(e.message));
}

/* BUTTON GLOW */
function glow(btn){
  btn.style.boxShadow="0 0 25px #4fc3f7";
  setTimeout(()=>btn.style.boxShadow="none",300);
}

/* FALLING CROSSES */
const container=document.getElementById("cross-container");
for(let i=0;i<35;i++){
 let c=document.createElement("div");
 c.innerHTML="âœ";
 c.style.cssText=`
 position:absolute;
 top:-10%;
 left:${Math.random()*100}%;
 font-size:${10+Math.random()*18}px;
 opacity:0.15;
 animation:fall ${6+Math.random()*6}s linear infinite;
 `;
 container.appendChild(c);
}
</script>

<style>
@keyframes fall{
 to{transform:translateY(120vh);}
}
.btn{
width:100%;
padding:12px;
border:none;
border-radius:8px;
margin-top:10px;
font-size:14px;
cursor:pointer;
transition:0.3s;
}
.primary{
background:#aac64b;
color:#000;
}
.social{
background:#fff;
color:#000;
}
.input{
width:100%;
padding:12px;
margin-top:10px;
border-radius:8px;
border:none;
}
</style>

</body>
</html>